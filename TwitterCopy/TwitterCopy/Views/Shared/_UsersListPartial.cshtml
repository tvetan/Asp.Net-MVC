@using TwitterCopy.Common.Extensions;
@using Microsoft.AspNet.Identity;
@model IEnumerable<TwitterCopy.Models.ApplicationUser>

<div>
    <h3>@ViewBag.headerText</h3>
</div>


    @foreach (var user in Model)
    {
        <div class="content row list-item">
            <div class="col-lg-8">
                <a href="#" class="account-summary">
                    <span class="profile">
                        <b>
                            @user.UserName
                        </b>
                        <small class="username metadata">
                            @@@user.UserName
                        </small>
                    </span>
                </a>
            </div>
            <div class="col-lg-4">
                @if (user.DoesUserContainFollower(User.Identity.GetUserId()))
                {
                    <a href="@Url.RouteUrl("Unfollow", new { id = user.Id })" class="btn following-unfollow-btn btn-primary">
                        <span class="button-text follow-text">
                            Following
                        </span>
                        <span class="button-text unfollow-text">
                            Unfollow
                        </span>
                    </a>
                }
                else
                {
                    <div class="follow-button">
                        @Html.RouteLink("Follow", "Follow", new { id = user.Id }, new { @class = "btn btn-follow" })
                    </div>
                }
            </div>
        </div>
    }
 
