@using TwitterCopy.Common.Extensions;
@using Microsoft.AspNet.Identity;
@model IEnumerable<TwitterCopy.Models.ApplicationUser>

<div>
    <h3>@ViewBag.headerText</h3>
</div>
@foreach (var user in Model)
{
    <div class="content">
        <div class="col-lg-8">
            <a href="#" class="account-summary">
                <span class="profile">
                    <b>
                        @user.UserName
                    </b>
                    <small class="username metadata">
                        @@@user.UserName
                    </small>
                </span>
            </a>
        </div>
        <div class="col-lg-8">
            @if (user.DoesUserContainFollower(User.Identity.GetUserId()))
            {
                <button class="btn follow-btn btn-primary" >
                    <span class="button-text follow-text">
                        Following
                    </span>
                    <span class="button-text unfollow-text">
                        Unfollow
                    </span>
                </button>
            }
            else
            {
                <div class="follow-button">
                    @Html.RouteLink("Follow", "Follow", new { id = user.Id }, new { @class = "btn" })
                </div>
            }
        </div>
    </div>
}